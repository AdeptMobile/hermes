<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-vm">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">VM Overview | Hermes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hermesengine.dev/docs/vm"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="VM Overview | Hermes"><meta data-rh="true" name="description" content="Value Representation"><meta data-rh="true" property="og:description" content="Value Representation"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hermesengine.dev/docs/vm"><link data-rh="true" rel="alternate" href="https://hermesengine.dev/docs/vm" hreflang="en"><link data-rh="true" rel="alternate" href="https://hermesengine.dev/docs/vm" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c0bb9412.css">
<link rel="preload" href="/assets/js/runtime~main.79f494e2.js" as="script">
<link rel="preload" href="/assets/js/main.c24be046.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Hermes Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Hermes Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Hermes</b></a><a class="navbar__item navbar__link" href="/docs/building-and-running">Docs</a><a class="navbar__item navbar__link" href="/playground/">Playground</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/hermes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/building-and-running">Documentation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/building-and-running">Building and Running</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/emscripten">Building with Emscripten</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cross-compilation">Cross Compilation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/language-features">Language Features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/intl">Internationalization APIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memory-profilers">Memory Profilers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/design">Design Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ir">Design of the IR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/optimizer">Design of the Optimizer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/vm">VM Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gengc">The GenGC Garbage Collector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/hades">The Hades Garbage Collector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/modules">Modules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/strings">Strings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/regexp">RegExp</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/react-native-integration">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/coding-standards">Contributing</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Documentation</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">VM Overview</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>VM Overview</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="value-representation">Value Representation<a href="#value-representation" class="hash-link" aria-label="Direct link to Value Representation" title="Direct link to Value Representation">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hermesvalue">HermesValue<a href="#hermesvalue" class="hash-link" aria-label="Direct link to HermesValue" title="Direct link to HermesValue">​</a></h3><p>The VM uses a class called <code>HermesValue</code> to encapsulate JS values efficiently,
preserving their type while still allowing them to fit in a register.
NaN-tagging is used to store different types of values;
we store values in the lower bits of a <code>uint64_t</code>.
Thus, when the <code>uint64_t</code> is interpreted as a <code>double</code>,
tagged <code>NaN</code> values can hold non-<code>double</code> types.</p><p>After we reserve the canonical quiet NaN to be used as the NaN representation
in the VM, we have 51 remaining bits we can set. Even on 64-bit systems, we are
able to accommodate a full pointer and type tag, since pointers are never more
than 48 bits in practice.</p><p>A <code>HermesValue</code> can take on any of the following types of values, which are
distinguished by their type tag:</p><ol><li>Empty</li><li>Undefined</li><li>Null</li><li>Boolean</li><li>Symbol</li><li>Native value (used to store an int or pointer for bookkeeping)</li><li>String pointer</li><li>Object pointer</li></ol><p><code>HermesValue</code> is used across the VM to store and pass JS values.
<code>PinnedHermesValue</code> is used in non-moveable memory, primarily for the register
stack and other GC roots in known locations in memory. <code>GCHermesValue</code>s are
used on the GC managed heap.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hermesvalue32">HermesValue32<a href="#hermesvalue32" class="hash-link" aria-label="Direct link to HermesValue32" title="Direct link to HermesValue32">​</a></h3><p>When compressed pointers are enabled, we also encode some values in a compact
32-bit representation called <code>HermesValue32</code>. Because compressing pointers to
store in this format requires additional work, we also avoid using
<code>HermesValue32</code> for frequently accessed values (like the register stack).
Instead we selectively use <code>HermesValue32</code> for objects that are known to
consume a large percentage of heap memory, but that are unlikely to affect
performance.</p><p><code>HermesValue32</code> supports storing all of the types that <code>HermesValue</code> does,
except for native values, which were dropped because they are relatively rare
and because we do not have a mechanism for compressing native pointers outside
the GC managed heap.</p><p>Instead of using NaN boxing, it takes advantage of the 8-byte alignment of the
Hermes heap to store tags, since the lowest 3 bits of a pointer are always
guaranteed to be zero (even after compression).</p><p><code>HermesValue32</code> also requires special handling for doubles. It is able to store
small integers up to 29 bits inline, but anything that cannot be represented in
that form must be stored as a separate double object on the heap. Based on the
workloads we have looked at, actual doubles are very rarely used, so the
overhead of this approach is small.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="strings">Strings<a href="#strings" class="hash-link" aria-label="Direct link to Strings" title="Direct link to Strings">​</a></h3><p><code>StringPrimitive</code> is used to store immutable UTF16 encoded strings,
and <code>StringPrimitive *</code> can be stored in <code>HermesValue</code> to make JS String values.</p><p>Internally, <code>StringPrimitive</code> can be</p><ul><li><code>DynamicStringPrimitive</code> (stored in the GC heap)</li><li><code>ExternalStringPrimitive</code> (stored as a pointer outside the VM, such as into a bytecode file)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="runtime">Runtime<a href="#runtime" class="hash-link" aria-label="Direct link to Runtime" title="Direct link to Runtime">​</a></h2><p>The <code>Runtime</code> class is the primary driver of the VM.
It contains the current environment and heap, as well as the code to execute.
<code>Runtime</code> is used to execute <code>RuntimeModule</code>s,
which are constructed from <code>BytecodeModule</code>s using <code>Runtime::runModule()</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="runtime-module">Runtime Module<a href="#runtime-module" class="hash-link" aria-label="Direct link to Runtime Module" title="Direct link to Runtime Module">​</a></h3><p>A <code>RuntimeModule</code> is the VM representation into a bytecode file.
<code>RuntimeModule</code>s are stored outside the GC heap and are constructed via <code>new</code>.</p><p>To allow for segmentation of bytecode files and <code>require</code>ing modules between
separate segments, we collect <code>RuntimeModule</code>s in a class called <code>Domain</code>.
You may think of the <code>Domain</code> as the collection of bytecode files which were
all compiled in the same invocation of the compiler.</p><p>Every <code>JSFunction</code> shares ownership of a <code>Domain</code>, and the <code>Domain</code> owns
the <code>RuntimeModule</code>s which provide those functions. In this way, when all
<code>JSFunction</code>s which require the files in a <code>Domain</code> are collected,
the <code>Domain</code> and the <code>RuntimeModule</code>s are also collected.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="runtime-identifiers">Runtime Identifiers<a href="#runtime-identifiers" class="hash-link" aria-label="Direct link to Runtime Identifiers" title="Direct link to Runtime Identifiers">​</a></h3><p>The <code>Runtime</code> contains an <code>IdentifierTable</code>,
which is used for getting unique IDs for strings.
The table is used to go from <code>StringPrimitive</code> to <code>SymbolID</code> and back.
It&#x27;s prepopulated with some &quot;predefined strings&quot;,
the set of strings that are required by built in functions,
which can be seen in <code>PredefinedStrings.def</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="garbage-collection">Garbage Collection<a href="#garbage-collection" class="hash-link" aria-label="Direct link to Garbage Collection" title="Direct link to Garbage Collection">​</a></h3><p>Currently, the VM uses <code>HadesGC</code> by default, a concurrent garbage collector aimed at dramatically lowering pause times over our previous collector <a href="/docs/gengc">GenGC</a>. The heap in Hermes is non-contiguous, which allows us to avoid reserving large regions of address space upfront, and allows us to return memory to the OS at a finer granularity. Garbage collection in Hermes is precise, which means that the GC always knows which values contain valid pointers.</p><p>See the documentation for <a href="/docs/hades">Hades</a> for details
on how it works.</p><p>The garbage collector moves objects to different place on the heap,
invalidating <code>HermesValue</code>s,
so there are a couple classes which allow updating them automatically.
<code>Handle&lt;&gt;</code> and <code>Handle&lt;T&gt;</code> are garbage collector-aware handles;
they are moved if a collection occurs in between two successive accesses.
So, to ensure correctness in the VM,
use the handles instead of passing raw <code>HermesValue</code> between functions.</p><p>A <code>GCScope</code> is used to keep track of all the current <code>HermesValue</code> handles.
Any <code>GCScope</code> must be constructed on the stack,
whence it tracks any scoped handles that are used until it falls out of scope.
The <code>GCScope</code> allocates space in chunks,
and when it is destroyed (falls out of scope) it frees any chunks it allocated.
The <code>GCScope</code> is used to internally generate <code>PinnedHermesValue</code>s,
which are then stored in <code>Handle&lt;&gt;</code> and <code>Handle&lt;T&gt;</code>.</p><p>We also provide <code>PseudoHandle&lt;T&gt;</code> classes which are explicitly <em>not</em> handles.
These are used to be explicit about storage of raw pointers and <code>HermesValue</code>.
<code>PseudoHandle</code> should be used as an argument in place of a raw pointer to
functions which may want to turn that argument into a <code>Handle</code>,
but in which it&#x27;s not necessary to <em>always</em> incur the cost of handle allocation.
<code>PseudoHandle</code> also does not have a copy constructor,
and moving out of one invalidates it.
This prevents the reuse of <code>PseudoHandle</code> after an allocating function call.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rules-for-using-handles">Rules for using handles<a href="#rules-for-using-handles" class="hash-link" aria-label="Direct link to Rules for using handles" title="Direct link to Rules for using handles">​</a></h4><ol><li>A function that can perform an allocation (even if it doesn&#x27;t do it every
time) or calls a function that does, must accept and return only handles
(for GC-managed objects). It must also take a <code>Runtime*</code> as an argument.</li><li>A function that accepts or returns handles is allowed (and can be assumed
to) allocate more handles, but the upper bound of allocated handles must be
static.</li><li>The number of handles in a given GCScope should have a static upper limit.</li></ol><p>The motivation for these rules should be self-explanatory.  The practical
implication of rule 2 and 3 is that recursion and loops that allocate handles
in every iteration must be treated specially.  In case of recursion a new
GCScope should be defined in each recurrence (is that the correct term?).  In
case of a loop, there are a couple of possibilities:</p><ul><li>in loops that are expected to be low iteration and not performance critical,
a new GCScope can be defined in the body of the loop.</li><li>otherwise a GCScope::Marker should be used to flush the allocated handles of
the previous iteration.</li><li>mutable handles can be used to avoid allocating a new handle on every
iteration.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="object-model">Object Model<a href="#object-model" class="hash-link" aria-label="Direct link to Object Model" title="Direct link to Object Model">​</a></h2><p>Currently the object model is a VTable-based scheme,
in which all possible JS values inherit from a base garbage collector VTable.
These are called &quot;cells&quot;, and all the cells are defined in <code>CellKinds.def</code>.
Objects have a special <code>ObjectVTable</code>, Callables have a <code>CallableVTable</code>, etc.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="objects">Objects<a href="#objects" class="hash-link" aria-label="Direct link to Objects" title="Direct link to Objects">​</a></h3><p>Each JS object is represented by <code>Object</code> (or a class derived from <code>Object</code>).
JS objects have a set of name/value pairs, and some optional &quot;indexed storage&quot;.
Read more about how <code>Object</code> works in <code>ObjectModel.h</code>.
The Runtime contains a global object which is used to store in global scope.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="arrays">Arrays<a href="#arrays" class="hash-link" aria-label="Direct link to Arrays" title="Direct link to Arrays">​</a></h3><p>Arrays, the <code>arguments</code> object, etc. inherit from Object directly,
but simply provide their own implementations of <code>*OwnIndexed</code> using the VTable.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="functions">Functions<a href="#functions" class="hash-link" aria-label="Direct link to Functions" title="Direct link to Functions">​</a></h3><p>Functions and native functions inherit from <code>Callable</code>.
This allows them to call <code>executeCall*</code> to run functions using the internal API.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="boxed-primitives">Boxed Primitives<a href="#boxed-primitives" class="hash-link" aria-label="Direct link to Boxed Primitives" title="Direct link to Boxed Primitives">​</a></h3><p>The VM has classes used to contain Booleans, Strings, and Numbers,
when they are constructed using their respective JS constructors.
<code>JSString</code> is a boxed <code>String</code> object, etc.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="repl">REPL<a href="#repl" class="hash-link" aria-label="Direct link to REPL" title="Direct link to REPL">​</a></h2><p>The HermesVM provides a REPL in <code>bin/hermes</code>,
which calls through to the <code>eval()</code> global function in the <code>Runtime</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/hermes/blob/HEAD/website/../doc/VM.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2021-06-23T09:47:42.000Z">Jun 23, 2021</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/optimizer"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Design of the Optimizer</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/gengc"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">The GenGC Garbage Collector</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#value-representation" class="table-of-contents__link toc-highlight">Value Representation</a><ul><li><a href="#hermesvalue" class="table-of-contents__link toc-highlight">HermesValue</a></li><li><a href="#hermesvalue32" class="table-of-contents__link toc-highlight">HermesValue32</a></li><li><a href="#strings" class="table-of-contents__link toc-highlight">Strings</a></li></ul></li><li><a href="#runtime" class="table-of-contents__link toc-highlight">Runtime</a><ul><li><a href="#runtime-module" class="table-of-contents__link toc-highlight">Runtime Module</a></li><li><a href="#runtime-identifiers" class="table-of-contents__link toc-highlight">Runtime Identifiers</a></li><li><a href="#garbage-collection" class="table-of-contents__link toc-highlight">Garbage Collection</a></li></ul></li><li><a href="#object-model" class="table-of-contents__link toc-highlight">Object Model</a><ul><li><a href="#objects" class="table-of-contents__link toc-highlight">Objects</a></li><li><a href="#arrays" class="table-of-contents__link toc-highlight">Arrays</a></li><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a></li><li><a href="#boxed-primitives" class="table-of-contents__link toc-highlight">Boxed Primitives</a></li></ul></li><li><a href="#repl" class="table-of-contents__link toc-highlight">REPL</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/language-features">Language Features</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/building-and-running">Building and Running</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/emscripten">Building with Emscripten</a></li></ul></div><div class="col footer__col"><div class="footer__title">Integrations</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://reactnative.dev/docs/hermes" target="_blank" rel="noopener noreferrer" class="footer__link-item">Using with React Native</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/react-native-integration">Using a custom build with React Native</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/HermesEngine" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://github.com/facebook/hermes" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookies<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright © 2023 Facebook, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.79f494e2.js"></script>
<script src="/assets/js/main.c24be046.js"></script>
</body>
</html>