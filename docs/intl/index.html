<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-intl">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Internationalization APIs | Hermes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hermesengine.dev/docs/intl"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Internationalization APIs | Hermes"><meta data-rh="true" name="description" content="This document describes the current state of Android implementation of the ECMAScript Internationalization API Specification (ECMA-402, or Intl). ECMA-402 is still evolving and the latest iteration is 7th edition which was published in June 2020. Each new edition is built on top of the last one and adds new capabilities typically as,"><meta data-rh="true" property="og:description" content="This document describes the current state of Android implementation of the ECMAScript Internationalization API Specification (ECMA-402, or Intl). ECMA-402 is still evolving and the latest iteration is 7th edition which was published in June 2020. Each new edition is built on top of the last one and adds new capabilities typically as,"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hermesengine.dev/docs/intl"><link data-rh="true" rel="alternate" href="https://hermesengine.dev/docs/intl" hreflang="en"><link data-rh="true" rel="alternate" href="https://hermesengine.dev/docs/intl" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c0bb9412.css">
<link rel="preload" href="/assets/js/runtime~main.79f494e2.js" as="script">
<link rel="preload" href="/assets/js/main.c24be046.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Hermes Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Hermes Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Hermes</b></a><a class="navbar__item navbar__link" href="/docs/building-and-running">Docs</a><a class="navbar__item navbar__link" href="/playground/">Playground</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/hermes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/building-and-running">Documentation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/building-and-running">Building and Running</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/emscripten">Building with Emscripten</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cross-compilation">Cross Compilation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/language-features">Language Features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/intl">Internationalization APIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memory-profilers">Memory Profilers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/design">Design Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ir">Design of the IR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/optimizer">Design of the Optimizer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/vm">VM Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gengc">The GenGC Garbage Collector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/hades">The Hades Garbage Collector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/modules">Modules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/strings">Strings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/regexp">RegExp</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/react-native-integration">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/coding-standards">Contributing</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Documentation</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Internationalization APIs</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Internationalization APIs</h1></header><p>This document describes the current state of Android implementation of the <a href="https://tc39.es/ecma402/" target="_blank" rel="noopener noreferrer">ECMAScript Internationalization API Specification</a> (ECMA-402, or <code>Intl</code>). ECMA-402 is still evolving and the latest iteration is <a href="https://402.ecma-international.org/7.0/" target="_blank" rel="noopener noreferrer">7th edition</a> which was published in June 2020. Each new edition is built on top of the last one and adds new capabilities typically as,</p><ul><li>New <code>Intl</code> service constructors (e.g. <code>Intl.Collator</code>, <code>Intl.NumberFormat</code> etc.) or extending existing ones by accepting more parameters</li><li>New functions or properties in <code>Intl</code> objects (e.g. <code>Intl.Collator.prototype.compare</code>)</li><li>New locale aware functions in standard Javascript object prototypes (e.g. <code>String.prototype.localeCompare</code>)</li></ul><p>One popular implementation strategy followed by other engines, is to bundle an internationalization framework (typically <a href="http://site.icu-project.org/" target="_blank" rel="noopener noreferrer">ICU</a>) along with the application package. This guarantees deterministic behaviours at the cost of applications package bloat. We decided to consume the Android platform provided facilities for space efficiency, but at the cost of some variance in behaviours across Android platforms.</p><h1>ECMA-402 Compliance</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="supported">Supported<a href="#supported" class="hash-link" aria-label="Direct link to Supported" title="Direct link to Supported">​</a></h2><ul><li><p><code>Intl.Collator</code></p><ul><li><code>Intl.Collator.supportedLocalesOf</code></li><li><code>Intl.Collator.prototype.compare</code></li><li><code>Intl.Collator.prototype.resolvedOptions</code></li></ul></li><li><p><code>Intl.NumberFormat</code></p><ul><li><code>Intl.NumberFormat.supportedLocalesOf</code></li><li><code>Intl.NumberFormat.prototype.format</code></li><li><code>Intl.NumberFormat.prototype.formatToParts</code></li><li><code>Intl.NumberFormat.prototype.resolvedOptions</code></li></ul></li><li><p><code>Intl.DateTimeFormat</code></p><ul><li><code>Intl.DateTimeFormat.supportedLocalesOf</code></li><li><code>Intl.DateTimeFormat.prototype.format</code></li><li><code>Intl.DateTimeFormat.prototype.formatToParts</code></li><li><code>Intl.DateTimeFormat.prototype.resolvedOptions</code></li></ul></li><li><p><code>Intl.getCanonicalLocales</code></p></li><li><p><code>String.prototype</code></p><ul><li><code>localeCompare</code></li><li><code>toLocaleLowerCase</code></li><li><code>toLocaleUpperCase</code></li></ul></li><li><p><code>Array.prototype</code></p><ul><li><code>toLocaleString</code></li></ul></li><li><p><code>Number.prototype</code></p><ul><li><code>toLocaleString</code></li></ul></li><li><p><code>Date.prototype</code></p><ul><li><code>toLocaleString</code></li><li><code>toLocaleDateString</code></li><li><code>toLocaleTimeString</code></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="not-yet-supported">Not yet supported<a href="#not-yet-supported" class="hash-link" aria-label="Direct link to Not yet supported" title="Direct link to Not yet supported">​</a></h2><ul><li><p><a href="https://tc39.es/ecma402/#pluralrules-objects" target="_blank" rel="noopener noreferrer"><code>Intl.PluralRules</code></a></p></li><li><p><a href="https://tc39.es/ecma402/#relativetimeformat-objects" target="_blank" rel="noopener noreferrer"><code>Intl.RelativeTimeFormat</code></a></p></li><li><p><a href="https://tc39.es/proposal-intl-displaynames/#sec-intl-displaynames-constructor" target="_blank" rel="noopener noreferrer"><code>Intl.DisplayNames</code></a></p></li><li><p><a href="https://tc39.es/proposal-intl-list-format/#sec-intl-listformat-constructor" target="_blank" rel="noopener noreferrer"><code>Intl.ListFormat</code></a></p></li><li><p><a href="https://tc39.es/ecma402/#sec-intl-locale-constructor" target="_blank" rel="noopener noreferrer"><code>Intl.Locale</code></a></p></li><li><p><code>Intl.DateTimeFormat</code> properties</p><ul><li><a href="https://tc39.es/proposal-intl-datetime-style/" target="_blank" rel="noopener noreferrer"><code>dateStyle/timeStyle</code></a></li><li><a href="https://github.com/tc39/ecma402/issues/29" target="_blank" rel="noopener noreferrer"><code>dayPeriod</code></a></li><li><a href="https://github.com/tc39/ecma402/pull/347" target="_blank" rel="noopener noreferrer"><code>fractionalSecondDigits</code></a></li></ul></li><li><p><a href="https://tc39.es/ecma402/#sup-bigint.prototype.tolocalestring" target="_blank" rel="noopener noreferrer"><code>BigInt.prototype.toLocaleString</code></a></p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="excluded">Excluded<a href="#excluded" class="hash-link" aria-label="Direct link to Excluded" title="Direct link to Excluded">​</a></h2><ul><li><code>Intl.DateTimeFormat</code>: <a href="https://tc39.es/ecma402/#sec-basicformatmatcher" target="_blank" rel="noopener noreferrer"><code>formatMatcher</code></a> parameter is not respected. The parameter enables the implementation to pick the best display format when it supports only a subset of all possible formats. ICU library in Android platform and hence our implementation allows all subsets and formats which makes this <code>formatMatcher</code> property unnecessary.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="limitations-across-android-sdks">Limitations across Android SDKs<a href="#limitations-across-android-sdks" class="hash-link" aria-label="Direct link to Limitations across Android SDKs" title="Direct link to Limitations across Android SDKs">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="android-11">Android 11<a href="#android-11" class="hash-link" aria-label="Direct link to Android 11" title="Direct link to Android 11">​</a></h3><ul><li>The keys of the object returned by <code>resolvedOptions</code> function in all <code>Intl</code> services are not deterministically ordered as prescribed by spec.</li><li>DateFormat: ECMAScript <a href="https://www.ecma-international.org/ecma-262/11.0/index.html#sec-time-values-and-time-range" target="_blank" rel="noopener noreferrer">beginning of time</a> (-8,640,000,000,000,000), is formatted as <code>November 271817</code>, instead of expected <code>April 271822</code>.</li><li><code>Intl.NumberFormat</code> implementation has some rough edges in supporting the following properties,<ul><li><code>style</code>: &#x27;unit&#x27;</li><li><code>notation</code>: &#x27;compact&#x27;</li><li><code>signDisplay</code></li><li><code>currencyFormat</code></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="android-10-and-older-sdk--30">Android 10 and older (SDK &lt; 30)<a href="#android-10-and-older-sdk--30" class="hash-link" aria-label="Direct link to Android 10 and older (SDK &lt; 30)" title="Direct link to Android 10 and older (SDK &lt; 30)">​</a></h3><ul><li><code>Intl.NumberFormat</code>: Scientific notation formatting has issues on some cases. e.g. <code>-Infinity</code> may get formatted as &#x27;-∞E0&#x27; instead of expected &#x27;-∞&#x27;. Another manifestation of the issues is that the formatToParts may return 4 parts instead of 2.</li><li><code>Intl.NumberFormat</code>: Compact notation <code>formatToParts</code> doesn&#x27;t identify unit, hence we report unit as &#x27;literal&#x27;. For e.g. the second part of &quot;100ac&quot; gets reported as &quot;literal&quot; instead of &quot;compact&quot;</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="android-9-and-older-sdk--29">Android 9 and older (SDK &lt; 29)<a href="#android-9-and-older-sdk--29" class="hash-link" aria-label="Direct link to Android 9 and older (SDK &lt; 29)" title="Direct link to Android 9 and older (SDK &lt; 29)">​</a></h3><ul><li>There are some failures likely due to older Unicode and CLDR version, which are hard to generalize. Some examples are,<ul><li><code>Intl.NumberFormat</code>: &#x27;Percent&#x27; is not accepted as a unit.</li><li><code>Intl.NumberFormat</code>: unit symbols difference, kph vs km/h</li><li>Some issue in significant digit precision, which is not yet looked into the details.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="android-80--81-and-older-sdk--28">Android 8.0 – 8.1 and older (SDK &lt; 28)<a href="#android-80--81-and-older-sdk--28" class="hash-link" aria-label="Direct link to Android 8.0 – 8.1 and older (SDK &lt; 28)" title="Direct link to Android 8.0 – 8.1 and older (SDK &lt; 28)">​</a></h3><ul><li><code>Intl.getCanonicalLocales</code>: Unicode/CLDR version differences results in some variances. e.g. und-u-tz-utc vs. und-u-tz-gmt.</li><li><code>Intl.NumberFormat</code>: CompactFormatter doesn&#x27;t respect the precision inputs.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="android-70---71-and-older-sdk--26">Android 7.0 - 7.1 and older (SDK &lt; 26)<a href="#android-70---71-and-older-sdk--26" class="hash-link" aria-label="Direct link to Android 7.0 - 7.1 and older (SDK &lt; 26)" title="Direct link to Android 7.0 - 7.1 and older (SDK &lt; 26)">​</a></h3><ul><li><code>Intl.getCanonicalLocales</code>: Unicode/CLDR version differences results in some variances. e.g. und-u-ms-imperial vs. und-u-ms-uksystem.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="android-70---71-and-older-sdk--24">Android 7.0 - 7.1 and older (SDK &lt; 24)<a href="#android-70---71-and-older-sdk--24" class="hash-link" aria-label="Direct link to Android 7.0 - 7.1 and older (SDK &lt; 24)" title="Direct link to Android 7.0 - 7.1 and older (SDK &lt; 24)">​</a></h3><ul><li><code>Intl.Collator</code>: Doesn&#x27;t canonically decompose the input strings. Canonically equivalent string with non-identical code points may not match.</li><li><code>Intl.getCanonicalLocales</code>: Unicode/CLDR version differences results in some variances. e.g. und-u-ca-ethiopic-amete-alem vs. und-u-ca-ethioaa, und-u-ks-primary vs. und-u-ks-level1.</li><li><code>Intl.NumberFormat</code>: Unit style does not work.</li><li><code>Intl.NumberFormat</code>: There are issues in the precision configuration due to lack of APIs.</li><li><code>Intl.DateFormat</code>: There are issues with the calendar configuration which needs to be dug into.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sdk--21-and-older">SDK &lt; 21 and older<a href="#sdk--21-and-older" class="hash-link" aria-label="Direct link to SDK &lt; 21 and older" title="Direct link to SDK &lt; 21 and older">​</a></h3><p>On platforms before 21, <code>Locale.forLanguageTag()</code> is not available, hence we can&#x27;t construct <code>java.util.Locale</code> object from locale tag. Hence, we fallback to English for any locale input.</p><h1>Internationalization framework in Android Platform</h1><p>Our implementation is essentially projecting the Android platform provided internationalization facilities through the ECMA-402 specified services. It implies that the results of running the same code may vary between devices running different versions of Android.</p><p>Android platform internationalization libraries have been based on <a href="https://unicode-org.github.io/icu-docs/#/icu4j" target="_blank" rel="noopener noreferrer">ICU4j project</a>. Version of ICU4j and the backing <a href="http://cldr.unicode.org/" target="_blank" rel="noopener noreferrer">CLDR data</a> varies across Android platform versions. Also, the ICU APIs were never exposed directly, but only through wrappers and aliases. This results in significant variance in internationalization API surface and data across platform versions.</p><p>The following table summarizes ICU, CLDR and Unicode versions available on the Android platforms.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="platform-24-where-icu4j-apis-are-available">Platform 24+ where ICU4j APIs are available.<a href="#platform-24-where-icu4j-apis-are-available" class="hash-link" aria-label="Direct link to Platform 24+ where ICU4j APIs are available." title="Direct link to Platform 24+ where ICU4j APIs are available.">​</a></h3><table><thead><tr><th>Android Platform Version</th><th>ICU</th><th>Unicode</th><th>CLDR</th></tr></thead><tbody><tr><td>Android 11 (API level 30)</td><td>ICU4J 66.1 (<a href="https://android.googlesource.com/platform/external/icu/+/refs/heads/android11-mainline-release/icu4j/readme.html" target="_blank" rel="noopener noreferrer">ref</a>)</td><td>Unicode 13 beta</td><td>CLDR 36.1</td></tr><tr><td>Android 10 (API level 29)</td><td>ICU4j 63.2 (<a href="https://developer.android.com/guide/topics/resources/internationalization" target="_blank" rel="noopener noreferrer">ref</a>)</td><td>CLDR 34</td><td>Unicode 11.0</td></tr><tr><td>Android 9 (API level 28)</td><td>ICU4j 60.2 (<a href="https://developer.android.com/guide/topics/resources/internationalization" target="_blank" rel="noopener noreferrer">ref</a>)</td><td>CLDR 32.0.1</td><td>Unicode 10.0</td></tr><tr><td>Android 8.0 - 8.1 (API levels 26 - 27)</td><td>ICU4j 58.2( <a href="https://developer.android.com/guide/topics/resources/internationalization" target="_blank" rel="noopener noreferrer">ref</a>)</td><td>CLDR 30.0.3</td><td>Unicode 9.0</td></tr><tr><td>Android 7.0 - 7.1 (API levels 24 - 25)</td><td>ICU4j 56 (<a href="https://developer.android.com/guide/topics/resources/internationalization" target="_blank" rel="noopener noreferrer">ref</a>)</td><td>CLDR 28</td><td>Unicode 8.0</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pre-24-platforms">Pre-24 platforms<a href="#pre-24-platforms" class="hash-link" aria-label="Direct link to Pre-24 platforms" title="Direct link to Pre-24 platforms">​</a></h3><table><thead><tr><th>Android Platform Version</th><th>ICU</th><th>Unicode</th><th>CLDR</th></tr></thead><tbody><tr><td>Android 6.0 (API level 23)</td><td>ICU4j 55.1 (<a href="https://developer.android.com/guide/topics/resources/internationalization" target="_blank" rel="noopener noreferrer">ref</a>)</td><td>CLDR 27.0.1</td><td>Unicode 7.0</td></tr><tr><td>Android 5.0 (API levels 21–22)</td><td>ICU4j 53 (<a href="https://developer.android.com/guide/topics/resources/internationalization" target="_blank" rel="noopener noreferrer">ref</a>)</td><td>CLDR 25</td><td>Unicode 6.3</td></tr><tr><td>Android 4.4 (API levels 19–20)</td><td>ICU4j 51 (<a href="https://developer.android.com/guide/topics/resources/internationalization" target="_blank" rel="noopener noreferrer">ref</a>)</td><td>CLDR 23</td><td>Unicode 6.2</td></tr><tr><td>Android 4.3 (API level 18)</td><td>ICU4j 50 (<a href="https://developer.android.com/guide/topics/resources/internationalization" target="_blank" rel="noopener noreferrer">ref</a>)</td><td>CLDR 22.1</td><td>Unicode 6.2</td></tr><tr><td>Android 4.1 (API levels 16–17)</td><td>ICU4j 4.8 (<a href="https://developer.android.com/guide/topics/resources/internationalization" target="_blank" rel="noopener noreferrer">ref</a>)</td><td>CLDR 2.0</td><td>Unicode 6.0</td></tr></tbody></table><br><p>In summary,</p><ol><li><p>Platforms &gt;= 24 have much better internationalization support than earlier, as many ICU classes are available as is.</p></li><li><p>Platforms 21-24 still has reasonable internationalization support, by allowing creation of Locale objects and enabling selected ICU services through java.text namespace.</p></li><li><p>Platforms &lt; 21 doesn&#x27;t allow creation of Locale objects from tags, severely limiting general purpose international code.</p></li><li><p>Platform 30 has introduced classes under <a href="https://developer.android.com/reference/android/icu/util/package-summary" target="_blank" rel="noopener noreferrer"><code>android.icu.number</code></a> namespace which will majorly improve our <code>Intl.NumberFormat</code> implementation</p></li></ol><h1>Impact on Application Size</h1><p>The following numbers are measured using a test application which takes dependency on the Hermes library to evaluate a JavaScript snippet. Essentially, enabling Intl APIs adds 57-62K per ABI.</p><table><thead><tr><th><strong>Product APK Size</strong></th><th><strong>NOINTL</strong></th><th><strong>INTL</strong></th><th><strong>DIFF</strong></th><th><strong>PERC</strong></th></tr></thead><tbody><tr><td>ARM64</td><td>1,672,235</td><td>1,729,579</td><td>57,344</td><td>3.43%</td></tr><tr><td>ARM</td><td>1,471,539</td><td>1,528,883</td><td>57,344</td><td>3.90%</td></tr><tr><td>X86<!-- -->_<!-- -->64</td><td>1,844,255</td><td>1,901,599</td><td>57,344</td><td>3.11%</td></tr><tr><td>X86</td><td>1,950,739</td><td>2,012,179</td><td>61,440</td><td>3.15%</td></tr></tbody></table><p>The overhead is contributed by both compiled native C++ and Java bits</p><p>The uncompressed size of the Hermes shared library got bigger as follows,</p><table><thead><tr><th><strong>libhermes.so Size</strong></th><th><strong>NOINTL</strong></th><th><strong>INTL</strong></th><th><strong>DIFF</strong></th><th><strong>PERC</strong></th></tr></thead><tbody><tr><td>ARM64</td><td>2,473,760</td><td>2,551,592</td><td>77,832</td><td>3.15%</td></tr><tr><td>ARM</td><td>1,696,672</td><td>1,754,016</td><td>57,344</td><td>3.38%</td></tr><tr><td>X86<!-- -->_<!-- -->64</td><td>2,633,528</td><td>2,711,368</td><td>77,840</td><td>2.96%</td></tr><tr><td>X86</td><td>2,859,916</td><td>2,945,936</td><td>86,020</td><td>3.01%</td></tr></tbody></table><p>And the Java bits got bigger as well,</p><table><thead><tr><th><strong>Java Size</strong></th><th><strong>NOINTL</strong></th><th><strong>INTL</strong></th><th><strong>DIFF</strong></th><th><strong>PERC</strong></th></tr></thead><tbody><tr><td>classes.jar<br>(in hermes.aar)</td><td>559</td><td>120975</td><td>120,416</td><td>21541.32%</td></tr><tr><td>classes.dex<br>(replapp.apk)</td><td>160708</td><td>234808</td><td>74,100</td><td>46.11%</td></tr></tbody></table><p><em>Please note that the application dex file contains non-hermes class files too.</em></p><p>And finally, this is the increase in the final npm package,</p><table><thead><tr><th><strong>NPM Package</strong></th><th><strong>NOINTL</strong></th><th><strong>INTL</strong></th><th><strong>DIFF</strong></th><th><strong>PERC</strong></th></tr></thead><tbody><tr><td>hermes</td><td>214447973</td><td>219291220</td><td>4,843,247</td><td>2.26%</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/hermes/blob/HEAD/website/../doc/IntlAPIs.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2021-05-11T23:10:16.000Z">May 11, 2021</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/language-features"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Language Features</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/memory-profilers"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Memory Profilers</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#supported" class="table-of-contents__link toc-highlight">Supported</a></li><li><a href="#not-yet-supported" class="table-of-contents__link toc-highlight">Not yet supported</a></li><li><a href="#excluded" class="table-of-contents__link toc-highlight">Excluded</a></li><li><a href="#limitations-across-android-sdks" class="table-of-contents__link toc-highlight">Limitations across Android SDKs</a><ul><li><a href="#android-11" class="table-of-contents__link toc-highlight">Android 11</a></li><li><a href="#android-10-and-older-sdk--30" class="table-of-contents__link toc-highlight">Android 10 and older (SDK &lt; 30)</a></li><li><a href="#android-9-and-older-sdk--29" class="table-of-contents__link toc-highlight">Android 9 and older (SDK &lt; 29)</a></li><li><a href="#android-80--81-and-older-sdk--28" class="table-of-contents__link toc-highlight">Android 8.0 – 8.1 and older (SDK &lt; 28)</a></li><li><a href="#android-70---71-and-older-sdk--26" class="table-of-contents__link toc-highlight">Android 7.0 - 7.1 and older (SDK &lt; 26)</a></li><li><a href="#android-70---71-and-older-sdk--24" class="table-of-contents__link toc-highlight">Android 7.0 - 7.1 and older (SDK &lt; 24)</a></li><li><a href="#sdk--21-and-older" class="table-of-contents__link toc-highlight">SDK &lt; 21 and older</a></li><li><a href="#platform-24-where-icu4j-apis-are-available" class="table-of-contents__link toc-highlight">Platform 24+ where ICU4j APIs are available.</a></li><li><a href="#pre-24-platforms" class="table-of-contents__link toc-highlight">Pre-24 platforms</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/language-features">Language Features</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/building-and-running">Building and Running</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/emscripten">Building with Emscripten</a></li></ul></div><div class="col footer__col"><div class="footer__title">Integrations</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://reactnative.dev/docs/hermes" target="_blank" rel="noopener noreferrer" class="footer__link-item">Using with React Native</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/react-native-integration">Using a custom build with React Native</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/HermesEngine" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://github.com/facebook/hermes" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookies<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright © 2023 Facebook, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.79f494e2.js"></script>
<script src="/assets/js/main.c24be046.js"></script>
</body>
</html>